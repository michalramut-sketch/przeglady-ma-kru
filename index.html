<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PrzeglÄ…d budowlany â€“ test zdjÄ™cia</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f2f4f6;
  margin:0;
  padding:12px;
}
h1,h2 { margin:8px 0; }

.section {
  background:#fff;
  border-radius:8px;
  padding:12px;
  margin-bottom:12px;
  box-shadow:0 2px 4px rgba(0,0,0,.1);
}

.element {
  border:1px solid #ddd;
  border-radius:6px;
  padding:10px;
  margin-top:10px;
}

label {
  font-size:13px;
  display:block;
  margin-top:8px;
}

select, textarea, input {
  width:100%;
  padding:6px;
  font-size:14px;
  margin-top:4px;
}

img {
  max-width:100%;
  margin-top:8px;
  border-radius:6px;
  display:none;
}

button {
  width:100%;
  padding:12px;
  font-size:16px;
  border:none;
  border-radius:8px;
  background:#1976d2;
  color:#fff;
}
</style>
</head>

<body>

<h1>PrzeglÄ…d budowlany</h1>

<div class="section">
<h2>Budynek</h2>
<select>
  <option>Armii Krajowej 2 â€“ TBS</option>
  <option>KoÅ›ciuszki 10 â€“ WspÃ³lnota</option>
</select>
</div>

<div class="section">
<h2>Element</h2>

<div class="element">
<strong>Fundamenty</strong>

<label>Stan</label>
<select>
  <option>ZadowalajÄ…cy</option>
  <option>Dobry</option>
  <option>Åšredni</option>
  <option>ZÅ‚y</option>
</select>

<label>StopieÅ„ pilnoÅ›ci (opcjonalny)</label>
<select>
  <option value="">â€” brak â€”</option>
  <option>I</option>
  <option>II</option>
  <option>III</option>
  <option>IV</option>
</select>

<label>Uwagi</label>
<textarea rows="2" placeholder="JeÅ›li brak uwag wpisz: brak zaleceÅ„"></textarea>

<label>ZdjÄ™cie (aparat lub galeria)</label>
<input type="file" accept="image/*" id="foto" capture="environment">
<img id="preview">

</div>
</div>

<button>Zapisz (test)</button>

<script>
const input = document.getElementById("foto");
const preview = document.getElementById("preview");

input.addEventListener("change", () => {
  const file = input.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = e => {
    preview.src = e.target.result;
    preview.style.display = "block";
  };
  reader.readAsDataURL(file);
});
</script>

</body>
</html>  padding:10px;
  font-size:15px;
  border:none;
  border-radius:6px;
}
.save { background:#1976d2; color:#fff; }
.small { font-size:12px; color:#666; }
</style>
</head>

<body>

<h1>PrzeglÄ…d budowlany â€“ roczny</h1>

<div class="section">
<h2>1. Budynek</h2>
<select>
  <option>Armii Krajowej 2 â€“ TBS</option>
  <option>KoÅ›ciuszki 10 â€“ WspÃ³lnota</option>
</select>
<p class="small">Adres i zarzÄ…dca uzupeÅ‚niajÄ… siÄ™ automatycznie</p>
</div>

<div class="section">
<h2>2. Elementy budynku</h2>

<div class="element">
<strong>Fundamenty</strong><br><br>

<label>Stan</label>
<select>
  <option>ZadowalajÄ…cy</option>
  <option>Dobry</option>
  <option>Åšredni</option>
  <option>ZÅ‚y</option>
</select>

<label>StopieÅ„ pilnoÅ›ci (opcjonalny)</label>
<select>
  <option value="">â€” brak â€”</option>
  <option>I</option>
  <option>II</option>
  <option>III</option>
  <option>IV</option>
</select>

<label>Uwagi</label>
<textarea rows="2" placeholder="JeÅ›li brak uwag wpisz: brak zaleceÅ„"></textarea>

<label>ZdjÄ™cie (link do Google Drive)</label>
<input placeholder="np. https://drive.google.com/...">
</div>

</div>

<div class="section">
<h2>3. Wnioski</h2>

<label>Naprawy bezzwÅ‚oczne (Iâ€“II)</label>
<textarea rows="2"></textarea>

<label>PozostaÅ‚e nieprawidÅ‚owoÅ›ci</label>
<textarea rows="2"></textarea>

<label>ZalegÅ‚oÅ›ci z poprzedniego roku</label>
<textarea rows="2"></textarea>
</div>

<button class="save">Zapisz przeglÄ…d</button>

</body>
</html>  margin-bottom: 8px;
}

button {
  padding: 10px;
  border-radius: 8px;
  border: 1px solid #bbb;
  background: #eee;
  font-size: 14px;
}

button.active {
  background: #1e88e5;
  color: white;
  border-color: #1e88e5;
}

textarea {
  width: 100%;
  min-height: 70px;
  border-radius: 8px;
  border: 1px solid #ccc;
  padding: 8px;
  box-sizing: border-box;
}

.file {
  margin-top: 6px;
}

.clear {
  background: #d32f2f;
  color: white;
}
</style>
</head>

<body>

<div class="card">
  <h2>Fundamenty</h2>

  <div class="section-title">Stan</div>
  <div class="btn-row" data-group="stan">
    <button onclick="setActive(this)">Dobry</button>
    <button onclick="setActive(this)">ZadowalajÄ…cy</button>
    <button onclick="setActive(this)">Åšredni</button>
    <button onclick="setActive(this)">ZÅ‚y</button>
  </div>

  <div class="section-title">PilnoÅ›Ä‡</div>
  <div class="btn-row" data-group="pilnosc">
    <button onclick="setActive(this)">I</button>
    <button onclick="setActive(this)">II</button>
    <button onclick="setActive(this)">III</button>
    <button onclick="setActive(this)">IV</button>
  </div>

  <button class="clear" onclick="clearPilnosc()">âŒ WyczyÅ›Ä‡ pilnoÅ›Ä‡</button>

  <div class="section-title" style="margin-top:10px;">Opis / uwagi</div>
  <textarea placeholder="Wpisz uwagi..."></textarea>

  <div class="file">
    <input type="file" accept="image/*" />
  </div>
</div>

<script>
function setActive(btn) {
  const group = btn.parentElement;
  [...group.children].forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
}

function clearPilnosc() {
  document.querySelectorAll('[data-group="pilnosc"] button')
    .forEach(b => b.classList.remove('active'));
}
</script>

</body>
</html><body>

<header>MA-KRU â€“ PrzeglÄ…dy Techniczne</header>

<main>

<!-- PANEL -->
<div id="panel">
  <div class="grid">
    <div class="tile" onclick="showBuildings()">ğŸ¢ Budynki</div>
    <div class="tile" onclick="startInspection()">ğŸ§± Budowlany</div>
    <div class="tile">ğŸ”¥ Gazowy</div>
    <div class="tile">âš¡ Elektryczny</div>
    <div class="tile">ğŸ“¦ Inne</div>
  </div>
</div>

<!-- LISTA BUDYNKÃ“W -->
<div id="buildings" class="hidden">
  <button onclick="back()">â¬… WrÃ³Ä‡</button>
  <h3>Budynki</h3>
  <div id="buildingList"></div>
</div>

<!-- FORMULARZ -->
<div id="form" class="hidden">
  <button onclick="back()">â¬… WrÃ³Ä‡</button>
  <h3>PrzeglÄ…d budowlany</h3>
  <div id="formContent"></div>
  <button onclick="saveInspection()">ğŸ’¾ Zapisz przeglÄ…d</button>
</div>

</main>

<script>
// ===== BAZA BUDYNKÃ“W =====
const buildings = [
  {id:1, address:"Armii Krajowej 2", manager:"TBS"},
  {id:2, address:"KoÅ›ciuszki 10", manager:"WspÃ³lnota"}
];

// ===== 32 POZYCJE =====
const elements = [
  "Fundamenty","Åšciany noÅ›ne","Stropy","Schody","Dach","Pokrycie dachowe",
  "Rynny","Elewacja","Balkony","Tarasy","Stolarka okienna","Stolarka drzwiowa",
  "Piwnica","Strych","Klatka schodowa","Posadzki","Tynki","Balustrady",
  "Izolacje","Odwodnienie","Otoczenie","Estetyka budynku",
  "Instalacja wodna","Instalacja kanalizacyjna",
  "CO i CWU","PrzejÅ›cia instalacyjne",
  "Ochrona Å›rodowiska 1","Ochrona Å›rodowiska 2",
  "Ochrona Å›rodowiska 3","Ochrona Å›rodowiska 4",
  "Inne 1","Inne 2"
];

let currentBuilding = null;

// ===== NAWIGACJA =====
function hideAll(){
  panel.style.display="none";
  buildingsDiv.style.display="none";
  form.style.display="none";
}
const panel = document.getElementById("panel");
const buildingsDiv = document.getElementById("buildings");
const form = document.getElementById("form");

function back(){ hideAll(); panel.style.display="block"; }

// ===== BUDYNKI =====
function showBuildings(){
  hideAll(); buildingsDiv.style.display="block";
  const list = document.getElementById("buildingList");
  list.innerHTML="";
  buildings.forEach(b=>{
    list.innerHTML += `
      <div class="card">
        <strong>${b.address}</strong><br>
        <span class="small">ZarzÄ…dca: ${b.manager}</span><br>
        <button onclick="selectBuilding(${b.id})">Nowy przeglÄ…d</button>
      </div>`;
  });
}

function selectBuilding(id){
  currentBuilding = buildings.find(b=>b.id===id);
  startInspection();
}

// ===== FORMULARZ =====
function startInspection(){
  hideAll(); form.style.display="block";
  const fc = document.getElementById("formContent");
  fc.innerHTML = `<div class="card">
    <strong>${currentBuilding.address}</strong><br>
    <span class="small">ZarzÄ…dca: ${currentBuilding.manager}</span>
  </div>`;

  elements.forEach((el,i)=>{
    fc.innerHTML += `
    <div class="card">
      <strong>${el}</strong>

      <div class="state-btns">
        <button onclick="setState(${i},'dobry')">Dobry</button>
        <button onclick="setState(${i},'zadowalajÄ…cy')">ZadowalajÄ…cy</button>
        <button onclick="setState(${i},'Å›redni')">Åšredni</button>
        <button onclick="setState(${i},'zÅ‚y')">ZÅ‚y</button>
      </div>

      <div class="pilnosc">
        <button onclick="setUrg(${i},'I')">I</button>
        <button onclick="setUrg(${i},'II')">II</button>
        <button onclick="setUrg(${i},'III')">III</button>
        <button onclick="setUrg(${i},'IV')">IV</button>
        <button onclick="setUrg(${i},'')">âœ–</button>
      </div>

      <textarea id="desc${i}" placeholder="Opis / uwagi"></textarea>
      <input type="file" accept="image/*" capture="environment">
    </div>`;
  });
}

const inspection = {};

function setState(i,val){ inspection["state"+i]=val; }
function setUrg(i,val){ inspection["urg"+i]=val; }

// ===== ZAPIS =====
function saveInspection(){
  const data = {
    building: currentBuilding,
    date: new Date().toISOString(),
    inspection
  };
  let all = JSON.parse(localStorage.getItem("inspections")||"[]");
  all.push(data);
  localStorage.setItem("inspections", JSON.stringify(all));
  alert("Zapisano przeglÄ…d âœ”");
  back();
}
</script>

</body>
</html>
